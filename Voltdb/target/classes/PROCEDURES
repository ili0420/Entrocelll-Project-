CREATE PROCEDURE GET_MSISDN_WITHID
   AS
BEGIN
   SELECT SUBSC_ID FROM  SUBSCRIBER WHERE MSISDN =?;
END;

CREATE PROCEDURE GET_PACKAGE
   AS
BEGIN
   select package.*  from package, balance, subscriber where package.package_id = balance.package_id and balance.subsc_id= subscriber.subsc_id and subscriber.msisdn = ?;
END;

CREATE PROCEDURE REGISTER
   AS
BEGIN
   INSERT INTO SUBSCRIBER (SUBSC_ID, MSISDN, NAME, SURNAME, EMAIL, PASSWORD, SDATE, STATUS) values (?,?,?,?,?,?,NOW(),'A');
END;

CREATE PROCEDURE REGISTER_BALANCE
   AS
BEGIN
   INSERT INTO BALANCE (BALANCE_ID,SUBSC_ID, PACKAGE_ID, BAL_LVL_MONEY) VALUES (?, ?, ?,?);
END;

CREATE PROCEDURE SHOW_BALANCE_WITH_BALANCE_ID
   AS
BEGIN
   SELECT * FROM BALANCE WHERE BALANCE_ID= ?;
END;

CREATE PROCEDURE SHOW_BALANCE_WITH_SUBSCID
   AS
BEGIN
   SELECT * FROM BALANCE WHERE SUBSC_ID = ?;
END;

CREATE PROCEDURE SHOW_PACKAGE_AMOUNT_DATA
   AS
BEGIN
   SELECT (SELECT AMOUNT_DATA FROM PACKAGE WHERE PACKAGE_ID = BALANCE.PACKAGE_ID) - BAL_LVL_DATA     FROM BALANCE WHERE SUBSC_ID = ?;
END;

CREATE PROCEDURE SHOW_PACKAGE_AMOUNT_SMS
   AS
BEGIN
   SELECT (SELECT AMOUNT_SMS FROM PACKAGE WHERE PACKAGE_ID = BALANCE.PACKAGE_ID) - BAL_LVL_SMS     FROM BALANCE WHERE SUBSC_ID = ?;
END;

CREATE PROCEDURE SHOW_PACKAGE_AMOUNT_VOICE
   AS
BEGIN
   SELECT (SELECT AMOUNT_VOICE FROM PACKAGE WHERE PACKAGE_ID = BALANCE.PACKAGE_ID) - BAL_LVL_VOICE     FROM BALANCE WHERE SUBSC_ID = ?;
END;

CREATE PROCEDURE SHOW_PRICE
   AS
BEGIN
   SELECT PRICE FROM BALANCE WHERE SUBSC_ID= ?;
END;

CREATE PROCEDURE SHOW_USER_INFORMATION
   AS
BEGIN
   SELECT * FROM SUBSCRIBER WHERE MSISDN = ?;
END;

CREATE PROCEDURE UPDATE_BALANCE_DATA
   AS
BEGIN
   UPDATE BALANCE             SET BAL_LVL_DATA =BAL_LVL_DATA +?             WHERE SUBSC_ID=?;
END;

CREATE PROCEDURE UPDATE_BALANCE_PRICE
   AS
BEGIN
   UPDATE BALANCE             SET PRICE=PRICE+?             WHERE SUBSC_ID=?;
END;

CREATE PROCEDURE UPDATE_BALANCE_SMS
   AS
BEGIN
   UPDATE BALANCE             SET BAL_LVL_SMS =BAL_LVL_SMS +?             WHERE SUBSC_ID=?;
END;

CREATE PROCEDURE UPDATE_BALANCE_VOICE
   AS
BEGIN
   UPDATE BALANCE             SET BAL_LVL_VOICE =BAL_LVL_VOICE +?             WHERE SUBSC_ID=?;
END;

CREATE PROCEDURE UPDATE_PRICE
   AS
BEGIN
   UPDATE BALANCE     SET PRICE = PRICE + ?     WHERE SUBSC_ID = ?;
END;